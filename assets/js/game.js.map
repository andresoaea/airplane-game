{"version":3,"sources":["webpack:///./src/js/Socket.js","webpack:///./src/js/components/Plane.js","webpack:///./src/js/components/Players.js","webpack:///./src/js/game.js","webpack:///./src/js/scenes/LoadScene.js","webpack:///./src/js/scenes/MainScene.js","webpack:///./src/js/scenes/SetPlaneScene.js","webpack:///./src/sass/game.scss?4097"],"names":["Socket","players","url","player","id","opponent","conn","WebSocket","onopen","e","console","log","msg","readyState","CLOSED","send","Plane","config","scene","x","y","add","existing","setScale","setInteractive","setData","input","on","startDrag","isInDropZone","pointer","targets","off","dragObj","doDrag","stopDrag","initialPos","getData","game","width","dragX","dragY","dropZone","getDropZone","height","repositionToClosest","setPlanePositionInCells","tweens","scaleX","scaleY","duration","axis","cellsNum","i","closest","relativeDistance","newPos","dropZoneRect","Phaser","GameObjects","Sprite","Players","getParameterByName","name","photo","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","axios","require","defaults","headers","common","type","AUTO","parent","title","version","Game","LoadScene","MainScene","SetPlaneScene","start","key","load","image","showPreloader","fontStyle","fontFamily","fontSize","color","stroke","strokeThickness","shadow","offsetX","offsetY","blur","fill","progressBar","graphics","progressBox","fillStyle","fillRect","cameras","main","loadingText","make","text","style","setOrigin","percentText","value","setText","parseInt","clear","destroy","Scene","physics","arcade","cells","setBackgroundColor","drawSceneBackground","socket","onmessage","data","JSON","parse","opponentDisconnected","restart","cellId","cellClicked","fillRectShape","rect","drawPlayerMap","sqareWidth","j","drawRect","Geom","Rectangle","lineStyle","strokeRectShape","Contains","owner","stringify","drawBgRect","plane","drawBorder"],"mappings":"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","file":"/js/game.js","sourcesContent":["class Socket {\n    constructor(players) {\n        const url = `ws://192.168.0.105:8080/comm?playerId=${players.player.id}&opponentId=${players.opponent.id}`;\n        const conn = new WebSocket(url);\n        conn.onopen = function(e) {\n            console.log(`Connection established to ${url}`);\n        };\n        // conn.onmessage = (e) => {\n        //     console.log(e.data);\n        // };\n        this.conn = conn;\n    }\n\n    send(msg) {\n        if (this.conn.readyState === WebSocket.CLOSED) return;\n        return this.conn.send(msg);\n    }\n}\n\nexport default Socket;\n","class Plane extends Phaser.GameObjects.Sprite {\n    constructor(config) {\n        super(config.scene, config.x, config.y, 'plane-1');\n        config.scene.add.existing(this);\n\n        this.scene = config.scene;\n\n        this.setScale(0.4)\n            .setInteractive()\n            .setData('initialPos', {\n                x: this.x,\n                y: this.y,\n            });\n\n        this.scene.input.on('pointerdown', this.startDrag, this);\n\n        // Other variables\n        this.isInDropZone = false;\n    }\n\n    startDrag(pointer, targets) {\n        this.scene.input.off('pointerdown', this.startDrag, this);\n        this.dragObj = targets[0];\n        this.scene.input.on('pointermove', this.doDrag, this);\n        this.scene.input.on('pointerup', this.stopDrag, this);\n    }\n\n    doDrag(pointer) {\n        if (typeof this.dragObj !== 'undefined') {\n            // Move\n            this.dragObj.x = pointer.x;\n            this.dragObj.y = pointer.y;\n\n            let initialPos = this.dragObj.getData('initialPos');\n\n            // Scale\n            if (pointer.x < initialPos.x) {\n                if (this.isInDropZone) {\n                    this.dragObj.setScale(1.1);\n                } else {\n                    this.dragObj.setScale(\n                        (game.config.width - this.dragObj.x) / 450\n                    );\n                }\n            }\n        }\n    }\n\n    stopDrag() {\n        this.scene.input.on('pointerdown', this.startDrag, this);\n        this.scene.input.off('pointermove', this.doDrag, this);\n        this.scene.input.off('pointerup', this.stopDrag, this);\n\n        if (typeof this.dragObj == 'undefined') return;\n\n        // Check if in drop zone\n        let dragX = this.dragObj.x;\n        let dragY = this.dragObj.y;\n\n        let dropZone = this.getDropZone();\n\n        if (\n            dragX > dropZone.x &&\n            dragX < dropZone.x + dropZone.width &&\n            dragY > dropZone.y &&\n            dragY < dropZone.y + dropZone.height\n        ) {\n            // Inside drop zone\n            this.dragObj.setScale(1);\n            // this.dragObj.x = dropZone.x + this.dragObj.width / 2;\n            // this.dragObj.y = dropZone.y + this.dragObj.height / 2;\n\n            // this.scene.cells.forEach((cell) => {\n            //     console.log(cell);\n            // });\n\n            this.repositionToClosest('x');\n            this.repositionToClosest('y');\n\n            this.setPlanePositionInCells();\n\n            this.isInDropZone = true;\n\n            //this.dragObj.x =\n        } else {\n            // Outside drop zone / Go back to initial position\n            this.scene.tweens.add({\n                targets: [this.dragObj],\n                x: this.dragObj.getData('initialPos').x,\n                y: this.dragObj.getData('initialPos').y,\n                scaleX: 0.4,\n                scaleY: 0.4,\n                duration: 500,\n            });\n\n            this.isInDropZone = false;\n        }\n    }\n\n    repositionToClosest(axis) {\n        let dropZone = this.getDropZone();\n\n        let cellsNum = 8;\n        for (let i = 0; i < cellsNum; i++) {\n            if (i < 2) continue;\n\n            let closest = i * 40;\n            let relativeDistance = this.dragObj[axis] - dropZone[axis];\n\n            if (axis === 'y') {\n                relativeDistance = relativeDistance + 20;\n            }\n\n            if (relativeDistance - closest < 39) {\n                let newPos = closest + dropZone[axis] + (axis === 'x' ? 20 : 0);\n\n                if (i > 5) {\n                    // this.dragObj[axis] =\n                    //     5 * 40 + dropZone[axis] + (axis === 'x' ? 20 : 0);\n                    if (axis === 'x') {\n                        this.dragObj.x = 5 * 40 + dropZone.x + 20;\n                    } else {\n                        this.dragObj.y = 5 * 40 + dropZone.x;\n                    }\n                } else {\n                    this.dragObj[axis] = newPos;\n                }\n\n                break;\n            }\n        }\n    }\n\n    getDropZone() {\n        let { x, y, width, height } = this.scene.dropZoneRect;\n        return { x, y, width, height };\n    }\n\n    setPlanePositionInCells() {\n        // let schema = [\n        //     [0, 0, 1, 0, 0],\n        //     [1, 1, 1, 1, 1],\n        //     [0, 0, 1, 0, 0],\n        //     [0, 1, 1, 1, 0],\n        // ];\n\n        console.log(this);\n    }\n}\n\nexport default Plane;\n","class Players {\n    constructor() {\n        this.player = {\n            id: this.getParameterByName('userId') ?? '1',\n            name: 'User',\n            photo: null,\n        };\n\n        this.opponent = {\n            id: this.getParameterByName('opponentId') ?? '2',\n            name: 'UserOpponent',\n            photo: null,\n        };\n    }\n\n    // helper for debugging\n    getParameterByName(name, url = window.location.href) {\n        name = name.replace(/[\\[\\]]/g, '\\\\$&');\n        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n            results = regex.exec(url);\n        if (!results) return null;\n        if (!results[2]) return '';\n        return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n    }\n}\n\nexport default Players;\n","import Phaser from 'phaser';\n// import moment, { lang } from 'moment';\n// import Swal from 'sweetalert2';\n\n// window.moment = moment;\n// window.Swal = Swal;\n\n// //indow.jQuery = window.$ = require('jquery');\nwindow.axios = require('axios');\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\nimport LoadScene from './scenes/LoadScene';\nimport MainScene from './scenes/MainScene';\nimport SetPlaneScene from './scenes/SetPlaneScene';\n\nlet config = {\n    type: Phaser.AUTO,\n    width: 800,\n    height: 458,\n    parent: 'game',\n    // physics: {\n    //     default: 'arcade',\n    //     arcade: {\n    //         gravity: { y: 800 },\n    //         //debug: true\n    //     },\n    // },\n    title: 'The Airplanes with Friends',\n    url: '',\n    version: '1.0.0',\n};\n\nlet game = new Phaser.Game(config);\ngame.scene.add('LoadScene', new LoadScene());\ngame.scene.add('MainScene', new MainScene());\ngame.scene.add('SetPlaneScene', new SetPlaneScene());\ngame.scene.start('LoadScene');\nwindow.game = game;\n","class LoadScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: 'LoadScene',\n        });\n    }\n\n    preload() {\n        /**\n         * LoadScene images\n         */\n\n        // this.load.multiatlas(\n        //     'atlas',\n        //     'assets/sprites/tp/atlas.json',\n        //     'assets/sprites/tp'\n        // );\n\n        this.load.image('plane-1', 'assets/images/planes/plane-1.png');\n\n        this.showPreloader();\n    }\n\n    showPreloader() {\n        let scene = this;\n\n        let fontStyle = {\n            fontFamily: 'Play',\n            fontSize: 28,\n            color: '#ffffff',\n            stroke: '#fff',\n            strokeThickness: 2,\n            shadow: {\n                offsetX: 1,\n                offsetY: 1,\n                color: '#000',\n                blur: 0,\n                stroke: true,\n                fill: true,\n            },\n        };\n\n        let progressBar = scene.add.graphics();\n        let progressBox = scene.add.graphics();\n        progressBox.fillStyle(0x222222, 0.05);\n        progressBox.fillRect(\n            (game.config.width - 250) / 2,\n            game.config.height / 2 + 40,\n            250,\n            50\n        );\n\n        let width = scene.cameras.main.width;\n        let height = scene.cameras.main.height;\n        let loadingText = scene.make.text({\n            x: width / 2,\n            y: height / 2 - 50,\n            text: 'Loading...',\n            style: fontStyle,\n        });\n        loadingText.setOrigin(0.5, 0.5);\n\n        let percentText = scene.make.text({\n            x: width / 2,\n            y: height / 2 - 5,\n            text: '0%',\n            style: fontStyle,\n        });\n        percentText.setOrigin(0.5, 0.5);\n\n        scene.load.on('progress', function(value) {\n            percentText.setText(parseInt(value * 100) + '%');\n            progressBar.clear();\n            progressBar.fillStyle(0xbf4689, 1);\n            progressBar.fillRect(\n                (game.config.width - 250) / 2 + 5,\n                game.config.height / 2 + 50,\n                240 * value,\n                30\n            );\n        });\n\n        scene.load.on('complete', function() {\n            // console.log('preload done')\n\n            progressBar.destroy();\n            progressBox.destroy();\n            loadingText.destroy();\n            percentText.destroy();\n\n            //game.scene.start('Start');\n\n            game.scene.start('SetPlaneScene');\n        });\n    }\n}\n\nexport default LoadScene;\n","import Socket from '../Socket';\nimport Players from '../components/Players';\n\nclass MainScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: 'MainScene',\n            physics: {\n                arcade: {\n                    //debug: true,\n                },\n            },\n        });\n\n        this.cells = {};\n    }\n\n    init() {\n        this.cameras.main.setBackgroundColor('#fff');\n    }\n\n    create() {\n        this.drawSceneBackground();\n\n        // Setup players\n        this.players = new Players();\n\n        this.socket = new Socket(this.players);\n\n        this.socket.conn.onmessage = (e) => {\n            console.log(e.data);\n            const msg = JSON.parse(e.data);\n\n            if (msg.opponentDisconnected) {\n                console.log('opponent disconnected');\n                this.scene.restart();\n            }\n\n            const cellId = msg.cellClicked;\n            if (!cellId) return;\n\n            const graphics = this.add.graphics({\n                fillStyle: { color: 0x0000ff },\n            });\n\n            graphics.fillRectShape(this.cells[cellId.replace('p', 'o')].rect);\n        };\n\n        const x = 40;\n        const y = 80;\n\n        this.drawPlayerMap(x, y);\n        this.drawPlayerMap(440, y, 'opponent');\n\n        //debug\n        window.Socket = Socket;\n        window.MainScene = this;\n    }\n\n    drawPlayerMap(x, y, type = null) {\n        const sqareWidth = 40;\n        const cellsNum = 8;\n\n        for (let i = 0; i < cellsNum; i++) {\n            // Go vertical\n            for (let j = 0; j < cellsNum; j++) {\n                // Go horizontal\n                this.drawRect(\n                    x + j * sqareWidth,\n                    y + i * sqareWidth,\n                    sqareWidth,\n                    i,\n                    j,\n                    type\n                );\n            }\n        }\n    }\n\n    drawRect(x, y, sqareWidth, i, j, type) {\n        let rect = new Phaser.Geom.Rectangle(x, y, sqareWidth, sqareWidth);\n        //   let graphics = this.add.graphics({ fillStyle: { color: 0x0000ff } });\n        var graphics = this.add.graphics({\n            lineStyle: { width: 1, color: 0x0000aa },\n        });\n        graphics.strokeRectShape(rect);\n\n        graphics.setInteractive(\n            new Phaser.Geom.Rectangle(x, y, sqareWidth, sqareWidth),\n            Phaser.Geom.Rectangle.Contains\n        );\n\n        const owner = type === 'opponent' ? 'p' : 'o';\n\n        const id = `${owner}${j + 1}${i + 1}`;\n        this.cells[id] = { graphics, rect };\n        // graphics.setData('id', id);\n        graphics.on('pointerdown', () => {\n            if (type !== 'opponent') return;\n\n            this.socket.send(\n                JSON.stringify({\n                    cellClicked: id,\n                })\n            );\n\n            // console.log(graphics.getData('id'));\n            graphics = this.add.graphics({\n                fillStyle: { color: 0x0000ff },\n            });\n\n            graphics.fillRectShape(rect);\n        });\n    }\n\n    drawSceneBackground() {\n        const x = 0;\n        const y = 0;\n        const sqareWidth = 40;\n        const cellsNum = 20;\n\n        for (let i = 0; i < cellsNum; i++) {\n            // Go vertical\n            for (let j = 0; j < cellsNum; j++) {\n                // Go horizontal\n                this.drawBgRect(\n                    x + j * sqareWidth,\n                    y + i * sqareWidth,\n                    sqareWidth,\n                    i,\n                    j\n                );\n            }\n        }\n    }\n\n    drawBgRect(x, y, sqareWidth, i, j) {\n        let rect = new Phaser.Geom.Rectangle(x, y, sqareWidth, sqareWidth);\n        //   let graphics = this.add.graphics({ fillStyle: { color: 0x0000ff } });\n        var graphics = this.add.graphics({\n            lineStyle: { width: 1, color: 0xeeeeee },\n        });\n        graphics.strokeRectShape(rect);\n    }\n}\n\nexport default MainScene;\n","import Players from '../components/Players';\nimport Plane from '../components/Plane';\n\nclass SetPlaneScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: 'SetPlaneScene',\n            physics: {\n                arcade: {\n                    //debug: true,\n                },\n            },\n        });\n\n        this.cells = [];\n    }\n\n    init() {\n        this.cameras.main.setBackgroundColor('#fff');\n    }\n\n    create() {\n        this.drawSceneBackground();\n\n        // Setup players\n        this.players = new Players();\n\n        // this.socket = new Socket(this.players);\n\n        const x = 120;\n        const y = 80;\n\n        this.drawPlayerMap(x, y);\n\n        //this.plane = new Plane(this);\n        let plane = new Plane({\n            scene: this,\n            x: game.config.width / 2 + 200,\n            y: 140,\n        });\n\n        //debug\n        // window.Socket = Socket;\n        window.SetPlaneScene = this;\n    }\n\n    drawPlayerMap(x, y) {\n        const sqareWidth = 40;\n        const cellsNum = 8;\n\n        for (let i = 0; i < cellsNum; i++) {\n            // Go vertical\n            for (let j = 0; j < cellsNum; j++) {\n                // Go horizontal\n                this.drawRect(\n                    x + j * sqareWidth,\n                    y + i * sqareWidth,\n                    sqareWidth,\n                    i,\n                    j\n                );\n            }\n        }\n\n        this.drawBorder(x, y, sqareWidth, cellsNum);\n    }\n\n    drawBorder(x, y, sqareWidth, cellsNum) {\n        let width = sqareWidth * cellsNum;\n        let rect = new Phaser.Geom.Rectangle(x, y, width, width);\n        //   let graphics = this.add.graphics({ fillStyle: { color: 0x0000ff } });\n        let graphics = this.add.graphics({\n            lineStyle: { width: 3, color: 0x000000 },\n        });\n        graphics.strokeRectShape(rect);\n\n        this.dropZoneRect = rect;\n    }\n\n    drawRect(x, y, sqareWidth, i, j, type) {\n        let rect = new Phaser.Geom.Rectangle(x, y, sqareWidth, sqareWidth);\n        //   let graphics = this.add.graphics({ fillStyle: { color: 0x0000ff } });\n        let graphics = this.add.graphics({\n            lineStyle: { width: 1, color: 0x000000 },\n        });\n        graphics.strokeRectShape(rect);\n\n        const id = `${j + 1}${i + 1}`;\n        this.cells[id] = { graphics, rect };\n    }\n\n    drawSceneBackground() {\n        const x = 0;\n        const y = 0;\n        const sqareWidth = 40;\n        const cellsNum = 20;\n\n        for (let i = 0; i < cellsNum; i++) {\n            // Go vertical\n            for (let j = 0; j < cellsNum; j++) {\n                // Go horizontal\n                this.drawBgRect(\n                    x + j * sqareWidth,\n                    y + i * sqareWidth,\n                    sqareWidth,\n                    i,\n                    j\n                );\n            }\n        }\n    }\n\n    drawBgRect(x, y, sqareWidth, i, j) {\n        let rect = new Phaser.Geom.Rectangle(x, y, sqareWidth, sqareWidth);\n        //   let graphics = this.add.graphics({ fillStyle: { color: 0x0000ff } });\n        var graphics = this.add.graphics({\n            lineStyle: { width: 1, color: 0xeeeeee },\n        });\n        graphics.strokeRectShape(rect);\n    }\n}\n\nexport default SetPlaneScene;\n","// removed by extract-text-webpack-plugin"],"sourceRoot":""}